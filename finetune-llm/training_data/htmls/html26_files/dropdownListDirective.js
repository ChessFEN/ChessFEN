"use strict";chessStories.directive("appDropdownList",[function(){return{restrict:"EA",scope:{visible:"=",list:"=",cb:"=callback",offset:"="},templateUrl:"/static001767/app/shared/dropdownList/dropdownListView.html",link:function(t,e,n){t.$watch("offset",function(){t.offset&&2==t.offset.length&&$(e).css("left",t.offset[0]+3).css("top",t.offset[1]+4)})},controllerAs:"dropdownList",controller:["$scope","Kbd","i18nService",function(t,e,n){var o=this;t.i18n=n.phrases,o.openDlg=function(e,n){o.list=t.list||[],t.visible=!0,o.cb=n},o.closeDlg=function(){t.visible=!1,o.cb&&o.cb(o.list)},o.isOpen=function(){return o.show},o.getSelection=function(){return _.map(_.filter(t.list,function(t){return t.selected}),function(t){return t.name})},o.onChkChange=function(e,n){if(t.cb){var o=t.list[e];t.cb(o.selected?"add":"delete",o.name)}},o.onCancelBtn=function(){t.ga("tags","close-by-cancel-btn",""),o.closeDlg()},o.onInputKeydown=function(t){t.keyCode===e.ESC&&o.closeDlg()},t.$on("Esc",function(e,n){o.show&&(t.ga("tags","close-by-esc",""),o.closeDlg())})}]}}]);
