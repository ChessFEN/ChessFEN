chessStories.directive("popupMsg",[function(){return{restrict:"EA",scope:!1,templateUrl:"/static001767/app/shared/popupMsg/popupMsg.html",controllerAs:"popupMsg",controller:["$scope","$timeout",function(s,t){var o=this;o.message="",o.shown=!1,o.with_spinner=!1;var e=null;o.is_local=!1,o.showText=function(s,n,i,p){var l=$("#popup-msg");if(e&&(t.cancel(e),e=null),o.with_spinner=n,o.message=s,p){o.is_local=!0;var c=p.offset(),r=(p.outerWidth(),p.outerHeight()),u=c.top-35;u<2&&(u=c.top+r+3),l.css({left:c.left+"px",top:u+"px"}),t(function(){o.rising=!0},1)}else o.is_local=!1,l.css({left:"",top:""});o.shown=!0,i&&(e=t(function(){e=null,o.shown=!1},Math.max(i,50)))},this.dismiss=function(s,n){e&&(t.cancel(e),e=null),o.shown=!1,s&&t(function(){s()},10)}}]}}]);
