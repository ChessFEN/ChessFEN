angular.module("chessStories").directive("appFenPreview",["themeService",function(e){var r=null,i="board-x";return{restrict:"EA",scope:!1,templateUrl:"/static001767/app/shared/fenPreview/fenPreviewView.html",link:function(n,t,o){i="board-"+n.guid(),$(".fen-preview-board",t).attr("id",i);var a={pieceTheme:e.url_of_piece,position:o.fen};r=ChessBoard(i,a)},controller:["$scope",function(n){n.$watch("open.pasted_fen",function(t){var o={pieceTheme:e.url_of_piece,position:t};r=ChessBoard(i,o),n.open.set_origin(Game.OR_FEN)}),n.$watch("currentUser.prefs.pieces",function(){r.redraw()})}]}}]);
